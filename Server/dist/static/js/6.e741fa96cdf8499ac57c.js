webpackJsonp([6],{"0S46":function(e,t){},AAe7:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={data:function(){var e=this;return{resetForm:{newpassword1:"",password:"",userid:""},resetFormRules:{password:[{required:!0,message:"请输入旧密码",trigger:"blur"}],newpwd:[{required:!0,validator:function(e,t,r){t?t.toString().length<6||t.toString().length>18?r(new Error("密码长度为6-18位")):r():r(new Error("请输入新密码"))},trigger:"blur"}],newpassword1:[{required:!0,validator:function(t,r,s){""===r?s(new Error("请再次输入密码")):r!==e.resetForm.newpwd?s(new Error("两次输入密码不一致!")):s()},trigger:"blur"}]}}},methods:{init:function(){this.resetForm.userid=JSON.parse(sessionStorage.getItem("EX_token")).user_id},change:function(){var e=this;this.$confirm("是否确认修改密码","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$http.post(e.url+"/users/update",{user_id:JSON.parse(sessionStorage.getItem("EX_token")).user_id,pass:e.resetForm.password,npass:e.resetForm.newpwd}).then(function(t){console.log(t),0===t.data?e.$message({message:t.message+"请重新登录",type:"warning"}):(e.$message({message:t.message,type:"success"}),sessionStorage.removeItem("EX_token"),e.$router.push("/login"))}).catch(function(){})}).catch(function(){})}},created:function(){this.init()}},o={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app-container common-list-page"},[r("el-form",{ref:"resetForm",attrs:{model:e.resetForm,rules:e.resetFormRules,"status-icon":"","label-width":"100px"}},[r("el-form-item",{attrs:{label:"旧密码：",prop:"password"}},[r("el-input",{attrs:{type:"password","auto-complete":"off"},model:{value:e.resetForm.password,callback:function(t){e.$set(e.resetForm,"password",t)},expression:"resetForm.password"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"新密码：",prop:"newpwd"}},[r("el-input",{attrs:{type:"password","auto-complete":"off"},model:{value:e.resetForm.newpwd,callback:function(t){e.$set(e.resetForm,"newpwd",t)},expression:"resetForm.newpwd"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"确认密码：",prop:"newpassword1"}},[r("el-input",{attrs:{type:"password","auto-complete":"off"},model:{value:e.resetForm.newpassword1,callback:function(t){e.$set(e.resetForm,"newpassword1",t)},expression:"resetForm.newpassword1"}})],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.change(t)}}},[e._v("确认修改")])],1)],1)],1)},staticRenderFns:[]};var n=r("VU/8")(s,o,!1,function(e){r("0S46")},null,null);t.default=n.exports}});
//# sourceMappingURL=6.e741fa96cdf8499ac57c.js.map